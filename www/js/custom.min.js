!function(){"use strict";function t(t,a,o,e,n){t.$on("$ionicView.enter",function(){t.locationData=[];var i=a.getLocations();t.noLocation=i.length<1,t.noLocation||i.forEach(function(a){n.getWeatherData(o+"q="+a).then(function(a){a.data.weather[0].icon=e+a.data.weather[0].icon+".png",t.locationData.push(a.data)})})})}angular.module("weatherapp.weatherlist",["weatherapp.locations"]).controller("WeatherlistController",["$scope","LocationService","WEATHER_API_URL","WEATHER_API_IMAGE_URL","WeatherListFactory",t])}();
!function(){"use strict";function t(t){return{getWeatherData:function(e){return t.get(e)}}}angular.module("weatherapp.weatherlist").factory("WeatherListFactory",["$http",t])}();
!function(){"use strict";angular.module("weatherapp.weatherlist").constant("WEATHER_API_URL","http://api.openweathermap.org/data/2.5/weather?units=metric&").constant("WEATHER_API_IMAGE_URL","http://openweathermap.org/img/w/")}();
!function(){"use strict";angular.module("weatherapp.menu",[]).controller("MenuController",[function(){}])}();
!function(){"use strict";function o(o,n,t,e,a,i){function c(o,n){t.alert({title:o,template:n})}function r(o){return n(function(n,t){var e=/[a-zA-Z]+(?:(?:\\s+|-)[a-zA-Z]+)*/;o&&o.match(e)?a.getWeatherData(i+"q="+o).then(function(o){o.data&&"404"!==o.data.cod?n():t()}):t()})}o.location={name:""},o.$on("$ionicView.enter",function(){o.location.name="",o.locations=e.getLocations()}),o.removeLocation=function(n){o.locations=e.removeLocation(n),o.location.name=""},o.addLocation=function(n){r(n).then(function(){o.locations=e.addLocation(n.trim()),o.location.name=""},function(){c("Error adding location","The location you have entered is not a valid location.")})},o.getCurrentLocation=function(){o.location.name="",o.showSpinner=!0,e.getCurrentLocation(function(n){o.showSpinner=!1,o.location.name=n},function(){o.showSpinner=!1,c("Error retrieving current location","Your location could not be retrieved. Please make sure you have your GPS Location Services enabled.")})}}angular.module("weatherapp.locations",["weatherapp.weatherlist","ngCordova"]).controller("LocationsController",["$scope","$q","$ionicPopup","LocationService","WeatherListFactory","WEATHER_API_URL",o])}();
!function(){"use strict";function t(t){return{set:function(o,n){t.localStorage[o]=JSON.stringify(n)},get:function(o){return JSON.parse(t.localStorage[o]||"[]")}}}angular.module("weatherapp.locations").factory("LocationStorageService",["$window",t])}();
!function(){"use strict";function t(t,n,o,r){function e(n){t.set(a,n)}function i(){return t.get(a)}var a="l0c4t10nK3y";return{getLocations:function(){return i()},getCurrentLocation:function(t,e){var i={timeout:1e4,enableHighAccuracy:!0};n.getCurrentPosition(i).then(function(n){o.getWeatherData(r+"lat="+n.coords.latitude+"&lon="+n.coords.longitude).then(function(n){t(n.data.name+", "+n.data.sys.country)})},function(t){e(t)})},addLocation:function(t){var n=i();return n.contains(t)||(n.push(t),e(n)),i()},removeLocation:function(t){var n=i();return n.remove(t),e(n),i()}}}Array.prototype.remove=function(){for(var t,n,o=arguments,r=o.length;r&&this.length;)for(t=o[--r];-1!==(n=this.indexOf(t));)this.splice(n,1);return this},Array.prototype.contains=function(t){for(var n=this.length;n--;)if(this[n]===t)return!0;return!1},angular.module("weatherapp.locations").factory("LocationService",["LocationStorageService","$cordovaGeolocation","WeatherListFactory","WEATHER_API_URL",t])}();
!function(){"use strict";function o(o,a){ionic.Platform.ready(function(){a.getAppVersion().then(function(a){o.app={version:a}})});var e=ionic.Platform.device();o.deviceInformation={platform:"n.a.",version:"n.a.",manufacturer:"n.a.",model:"n.a."},e.available===!0&&(o.deviceInformation.platform=e.platform,o.deviceInformation.version=e.version,o.deviceInformation.manufacturer=e.manufacturer.charAt(0).toUpperCase()+e.manufacturer.slice(1),o.deviceInformation.model=e.model),o.author={name:"Sascha Sambale",email:"mastixmc@gmail.com",url:"http://goo.gl/yduShl"}}angular.module("weatherapp.about",["ionic","ngCordova"]).controller("AboutController",["$scope","$cordovaAppVersion",o])}();